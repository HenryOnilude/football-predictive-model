@import "tailwindcss";

/* stylelint-disable at-rule-no-unknown */
@theme {
  /* ===== CORE SEMANTIC TOKENS (Flip with theme) ===== */
  
  /* Backgrounds */
  --color-bg-app: var(--bg-app);
  --color-bg-card: var(--bg-card);
  --color-bg-surface: var(--bg-surface);
  
  /* Text */
  --color-text-primary: var(--text-primary-color);
  --color-text-secondary: var(--text-secondary-color);
  --color-text-muted: var(--text-muted-color);
  
  /* Borders */
  --color-border-subtle: var(--border-subtle-color);
  --color-border-card: var(--border-card-color);
  
  /* ===== SIGNAL COLORS (Theme-aware for contrast) ===== */
  --color-signal-success: var(--signal-success);
  --color-signal-warning: var(--signal-warning);
  --color-signal-danger: var(--signal-danger);
  --color-signal-info: var(--signal-info);
  --color-signal-purple: var(--signal-purple);
}

@layer base {
  :root {
    /* ===== LIGHT MODE ===== */
    /* Core Backgrounds */
    --bg-app: #ffffff;                /* Pure White */
    --bg-card: #f8fafc;               /* Slate-50 */
    --bg-surface: #f1f5f9;            /* Slate-100 */
    
    /* Text Colors */
    --text-primary-color: #0f172a;    /* Slate-900 */
    --text-secondary-color: #64748b;  /* Slate-500 */
    --text-muted-color: #94a3b8;      /* Slate-400 */
    
    /* Border Colors */
    --border-subtle-color: #e2e8f0;   /* Slate-200 */
    --border-card-color: #cbd5e1;     /* Slate-300 */
    
    /* Signal Colors (Darker for white bg contrast) */
    --signal-success: #059669;        /* Emerald-600 */
    --signal-warning: #d97706;        /* Amber-600 */
    --signal-danger: #dc2626;         /* Red-600 */
    --signal-info: #2563eb;           /* Blue-600 */
    --signal-purple: #9333ea;         /* Purple-600 */
  }

  .dark {
    /* ===== DARK MODE ===== */
    /* Core Backgrounds */
    --bg-app: #0f172a;                /* Slate-900 */
    --bg-card: #1e293b;               /* Slate-800 */
    --bg-surface: #334155;            /* Slate-700 */
    
    /* Text Colors */
    --text-primary-color: #f8fafc;    /* Slate-50 */
    --text-secondary-color: #94a3b8;  /* Slate-400 */
    --text-muted-color: #64748b;      /* Slate-500 */
    
    /* Border Colors */
    --border-subtle-color: #334155;   /* Slate-700 */
    --border-card-color: #475569;     /* Slate-600 */
    
    /* Signal Colors (Brighter to pop on dark bg) */
    --signal-success: #34d399;        /* Emerald-400 */
    --signal-warning: #fbbf24;        /* Amber-400 */
    --signal-danger: #f87171;         /* Red-400 */
    --signal-info: #60a5fa;           /* Blue-400 */
    --signal-purple: #c084fc;         /* Purple-400 */
  }
}

/* Clean typography with Inter */
html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: 'cv11', 'ss01';
}

body {
  color: var(--text-primary-color);
  background-color: var(--bg-app);
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif;
  letter-spacing: -0.011em;
}

/* Inter font class */
.font-inter {
  font-family: 'Inter', system-ui, sans-serif;
}

/* Monospace numbers for data display */
.font-mono {
  font-family: ui-monospace, 'SF Mono', 'Roboto Mono', monospace;
  font-variant-numeric: tabular-nums;
}

/* 3D Transform utilities for flip card */
.perspective-1000 {
  perspective: 1000px;
}

.transform-style-3d {
  transform-style: preserve-3d;
}

.backface-hidden {
  backface-visibility: hidden;
}

.rotate-y-180 {
  transform: rotateY(180deg);
}

/* Improved heading hierarchy */
h1 {
  font-size: 1.875rem;
  font-weight: 600;
  letter-spacing: -0.025em;
}

h2 {
  font-size: 1.5rem;
  font-weight: 600;
  letter-spacing: -0.021em;
}

h3 {
  font-size: 1.125rem;
  font-weight: 600;
  letter-spacing: -0.014em;
}

/* Modern card style (theme-aware) */
.card {
  background-color: var(--bg-card);
  border-radius: 0.75rem;
  border: 1px solid var(--border-subtle-color);
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.1);
  transition: all 200ms;
}

.card:hover {
  border-color: var(--border-card-color);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

.dark .card {
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.2);
}

.dark .card:hover {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.2);
}

/* Stat card with better visual hierarchy */
.stat-card {
  padding: 1.5rem;
}

/* Clean table styles (theme-aware) */
.table-minimal {
  width: 100%;
  border-collapse: collapse;
}

.table-minimal th {
  text-align: left;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-secondary-color);
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--border-subtle-color);
}

.table-minimal td {
  padding-top: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border-subtle-color);
}

/* Glassmorphism effect (theme-aware) */
.glass {
  background: var(--bg-app);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

/* Text selection prevention for cards */
.select-none {
  user-select: none;
  -webkit-user-select: none;
}

/* ===== MOBILE UX FIXES ===== */

/* Prevent horizontal page shaking - critical fix */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* iOS safe area support for bottom nav */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Minimum touch target size (44x44px) for accessibility */
.touch-target {
  min-width: 44px;
  min-height: 44px;
}

/* Tabular numbers for financial data alignment */
.tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* Sticky column shadow for horizontal scroll indication */
.sticky-shadow {
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.3);
}

/* Custom scrollbar for horizontal scroll containers */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: #475569 transparent;
}

.scrollbar-thin::-webkit-scrollbar {
  height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: #475569;
  border-radius: 3px;
}

/* Prevent text wrapping in table cells */
.whitespace-nowrap {
  white-space: nowrap;
}

/* Mobile-first responsive text */
@media (max-width: 768px) {
  h1 {
    font-size: 1.5rem;
  }
  
  h2 {
    font-size: 1.25rem;
  }
  
  h3 {
    font-size: 1rem;
  }
}

/* Smooth scroll for better UX */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}
